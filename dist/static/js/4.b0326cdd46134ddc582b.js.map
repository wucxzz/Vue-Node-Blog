{"version":3,"sources":["webpack:///static/js/4.b0326cdd46134ddc582b.js","webpack:///./src/components/page/Comment.vue","webpack:///./src/components/page/Article.vue","webpack:///./~/babel-runtime/core-js/json/stringify.js?4574","webpack:///./~/core-js/library/fn/json/stringify.js?6708","webpack:///CommentForm.vue","webpack:///Comment.vue","webpack:///./src/components/common/CommentForm.vue?cc9d","webpack:///./src/components/page/Comment.vue?8fc5","webpack:///./src/components/common/CommentForm.vue?111f","webpack:///./src/components/page/Comment.vue?d6c1","webpack:///./src/components/common/CommentForm.vue","webpack:///./src/components/common/CommentForm.vue?380b","webpack:///./src/components/page/Comment.vue?a3c2","webpack:///Article.vue","webpack:///./src/components/page/Article.vue?8305","webpack:///./src/components/page/Article.vue?34e1","webpack:///./src/components/page/Article.vue?43b4"],"names":["webpackJsonp","199","module","exports","__webpack_require__","injectStyle","ssrContext","Component","206","228","default","__esModule","234","core","$JSON","JSON","stringify","it","apply","arguments","252","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","name","props","data","label","login","dialogVisible","oriName","oriWebsite","oriReminder","remember","ruleForm","email","website","avatar","reminder","content","rules","required","message","trigger","min","max","type","methods","submitHandle","formName","_this","this","$refs","validate","valid","$message","showClose","$http","get","params","then","res","formData","aid","$route","id","uname","trim","rid","replyUserId","rname","replyUserName","rCommentID","commentID","time","Date","getTime","uid","post","success","formHanle","show","visitorMes","localStorage","catch","err","cancleHandle","resetFields","opt","$emit","updVisitorMes","_this2","error","useVisitorMes","computed","labelString","created","_this3","parse","root","254","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_1__common_CommentForm__","__WEBPACK_IMPORTED_MODULE_1__common_CommentForm___default","components","commentForm","a","avatarRoot","commentFormShow","isHighLight","comments","commentLen","articleID","length","i","replyFormShow","replyHandle","replyId","replyName","event","formShowState","newComment","_i","replys","push","timeFormat","curTime","diffTime","Math","floor","format","288","version","sources","names","mappings","file","sourcesContent","sourceRoot","290","296","locals","298","317","320","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","model","label-position","prop","disabled","callback","$$v","$set","expression","_v","_e","spellcheck","rows","staticStyle","display","margin-bottom","width","on","click","$event","directives","rawName","title","visible","size","update:visible","_s","slot","staticRenderFns","322","_l","comment","key","src","alt","class","highlight","reply","padding","margin","border","background","380","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2__Comment__","__WEBPACK_IMPORTED_MODULE_2__Comment___default","Comment","article","loading","treeData","hasAddSatrt","currentArticleHanle","catalog","getData","options","status","msg","post_time","hs","match","len","h","text","num","obj","children","str","replace","treeDataHandle","addViewOrStart","console","log","arr","index","count","addStart","changeData","currentArticle","485","601","829","view","start","tag","domProps","innerHTML"],"mappings":"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","file":"static/js/4.b0326cdd46134ddc582b.js","sourcesContent":["webpackJsonp([4,5],{\n\n/***/ 199:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(298)\n}\nvar Component = __webpack_require__(26)(\n  /* script */\n  __webpack_require__(254),\n  /* template */\n  __webpack_require__(322),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-fb19e39e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 206:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(601)\n}\nvar Component = __webpack_require__(26)(\n  /* script */\n  __webpack_require__(380),\n  /* template */\n  __webpack_require__(829),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-35d6c948\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 228:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(234), __esModule: true };\n\n/***/ }),\n\n/***/ 234:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(9);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(228);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'CommentForm',\n    props: ['replyUserId', 'replyUserName', 'commentID'],\n    data: function data() {\n        return {\n            label: '留言',\n            login: false,\n            dialogVisible: false,\n            oriName: '',\n            oriWebsite: '',\n            oriReminder: false,\n            remember: false,\n            ruleForm: {\n                name: '',\n                email: '',\n                website: '',\n                avatar: '',\n                reminder: false,\n                content: ''\n            },\n            rules: {\n                name: [{ required: true, message: '请输入大名', trigger: 'blur' }, { min: 1, max: 20, message: '长度在 1 到 20 个字符', trigger: 'blur' }],\n                email: [{ required: true, type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }],\n                content: [{ required: true, message: '亲输入你的见解', trigger: 'blur' }]\n            }\n        };\n    },\n\n    methods: {\n        submitHandle: function submitHandle(formName) {\n            var _this = this;\n\n            this.$refs[formName].validate(function (valid) {\n                if (valid) {\n                    _this.$http.get('/api/visitor/getVisitor', {\n                        params: { email: _this.ruleForm.email }\n                    }).then(function (res) {\n                        res = res.data;\n                        var formData = {\n                            aid: _this.$route.params.id,\n                            uname: _this.ruleForm.name.trim(),\n                            website: _this.ruleForm.website.trim(),\n                            avatar: _this.ruleForm.avatar,\n                            rid: _this.replyUserId,\n                            rname: _this.replyUserName,\n                            rCommentID: _this.replyUserId ? _this.commentID : null,\n                            email: _this.ruleForm.email,\n                            content: _this.ruleForm.content,\n                            reminder: _this.ruleForm.email ? _this.ruleForm.reminder ? 1 : 0 : 0,\n                            time: new Date().getTime()\n                        };\n                        if (res) {\n                            res.reminder = res.reminder === 1 ? true : false;\n                            if (res.name !== _this.ruleForm.name.trim() || res.reminder !== _this.ruleForm.reminder || res.website && _this.ruleForm.website !== res.website) {\n                                _this.oriName = res.name;\n                                _this.oriWebsite = res.website || '';\n                                _this.oriReminder = res.reminder;\n                                _this.dialogVisible = true;\n                                return;\n                            } else {\n                                formData.uid = res.id;\n                                formData.avatar = res.avatar;\n                            }\n                        }\n                        _this.$http.post('/api/comment/writeComment', formData).then(function (res) {\n                            _this.$message.success('提交成功');\n                            _this.replyUserId ? _this.formHanle({ show: false, data: res.data }) : _this.formHanle({ show: true, data: res.data });\n                            if (_this.remember) {\n                                var visitorMes = {\n                                    email: _this.ruleForm.email,\n                                    name: _this.ruleForm.name.trim(),\n                                    website: _this.ruleForm.website.trim(),\n                                    reminder: _this.ruleForm.reminder,\n                                    remember: _this.remember\n                                };\n                                localStorage.visitorMes = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(visitorMes);\n                            } else {\n                                delete localStorage.visitorMes;\n                            }\n                            _this.ruleForm.content = '';\n                        }).catch(function (err) {\n                            throw err;\n                        });\n                    }).catch(function (err) {\n                        throw err;\n                    });\n                } else {\n                    _this.$message({\n                        showClose: true,\n                        message: '数据有误，提交失败',\n                        type: 'error'\n                    });\n                    return false;\n                }\n            });\n        },\n        cancleHandle: function cancleHandle(formName) {\n            this.$refs[formName].resetFields();\n            this.ruleForm.reminder = false;\n            this.formHanle({ show: false });\n        },\n        formHanle: function formHanle(opt) {\n            this.$emit('formHanle', opt);\n        },\n        updVisitorMes: function updVisitorMes() {\n            var _this2 = this;\n\n            if (this.login) {\n                return;\n            }\n            this.$http.post('/api/visitor/updVisitorMes', {\n                email: this.ruleForm.email,\n                name: this.ruleForm.name.trim(),\n                website: this.ruleForm.website.trim(),\n                reminder: this.ruleForm.email ? this.ruleForm.reminder ? 1 : 0 : 0\n            }).then(function (res) {\n                if (res.data) {\n                    _this2.$message.success('更新成功,请再次提交');\n                    _this2.dialogVisible = false;\n                } else {\n                    _this2.$message.error('更新失败,请更换eamil');\n                }\n                _this2.dialogVisible = false;\n            }).catch(function (err) {\n                throw err;\n            });\n        },\n        useVisitorMes: function useVisitorMes() {\n            this.ruleForm.name = this.oriName;\n            this.ruleForm.website = this.oriWebsite;\n            this.ruleForm.reminder = this.oriReminder;\n            this.dialogVisible = false;\n        }\n    },\n    computed: {\n        labelString: function labelString() {\n            return this.label + (this.replyUserName ? ' @' + this.replyUserName : '');\n        }\n    },\n    created: function created() {\n        var _this3 = this;\n\n        var visitorMes = localStorage.visitorMes && JSON.parse(localStorage.visitorMes);\n        if (visitorMes) {\n            this.ruleForm.name = visitorMes.name;\n            this.ruleForm.email = visitorMes.email;\n            this.ruleForm.website = visitorMes.website;\n            this.ruleForm.reminder = visitorMes.reminder;\n            this.remember = visitorMes.remember;\n        }\n        this.$http.get('/api/getSession').then(function (res) {\n            res = res.data;\n            if (res && res.root === 1) {\n                _this3.ruleForm.name = res.name;\n                _this3.ruleForm.email = res.email;\n                _this3.ruleForm.website = res.website || '';\n                _this3.ruleForm.avatar = res.avatar;\n                _this3.login = true;\n            }\n        }).catch(function (err) {\n            throw err;\n        });\n    }\n});\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_CommentForm__ = __webpack_require__(317);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_CommentForm___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__common_CommentForm__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'comment',\n    components: {\n        commentForm: __WEBPACK_IMPORTED_MODULE_1__common_CommentForm___default.a\n    },\n    data: function data() {\n        return {\n            avatarRoot: '../../../static/images/avatar/',\n            replyUserId: '',\n            replyUserName: '',\n            commentFormShow: true,\n            isHighLight: false,\n            comments: [],\n            commentLen: 0\n        };\n    },\n    created: function created() {\n        var _this = this;\n\n        var articleID = this.$route.params.id;\n        this.$http.get('/api/comment/getComment', {\n            params: { articleID: articleID }\n        }).then(function (res) {\n            _this.comments = res.data;\n            _this.commentLen = res.data.length;\n            for (var i = 0; i < _this.commentLen; i++) {\n                _this.comments[i].replyFormShow = false;\n            }\n        }).catch(function (err) {\n            throw err;\n        });\n    },\n\n    methods: {\n        replyHandle: function replyHandle(commentID, replyId, replyName, event) {\n            for (var i = 0; i < this.commentLen; i++) {\n                // this.comments[i].replyFormShow = i == commentID ? true : false;\n                // this.$set(this.comments[i], 'replyFormShow', i == commentID ? true : false);\n                // 对象更改检测注意事项 https://cn.vuejs.org/v2/guide/list.html#对象更改检测注意事项\n                var id = this.comments[i].commentID;\n                this.comments[i] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, this.comments[i], {\n                    replyFormShow: id == commentID ? true : false\n                });\n                id == commentID ? (this.replyUserId = replyId, this.replyUserName = replyName) : false;\n            }\n            this.commentFormShow = false;\n        },\n        formShowState: function formShowState(opt) {\n            var show = opt.show,\n                newComment = opt.data;\n            if (!show) {\n                for (var i = 0; i < this.commentLen; i++) {\n                    this.comments[i] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, this.comments[i], {\n                        replyFormShow: false\n                    });\n                }\n                this.commentFormShow = true;\n            }\n            if (newComment) {\n                if (newComment.rid) {\n                    for (var _i = 0; _i < this.commentLen; _i++) {\n                        if (this.comments[_i].commentID === newComment.rCommentID) {\n                            this.comments[_i].replys ? false : this.comments[_i].replys = [];\n                            this.comments[_i].replys.push(newComment);\n                            break;\n                        }\n                    }\n                } else {\n                    this.comments.push(newComment);\n                    this.commentLen += 1;\n                }\n            }\n        },\n        timeFormat: function timeFormat(time) {\n            var curTime = new Date().getTime(),\n                diffTime = curTime - time,\n                oneMin = 60000,\n                oneHour = 3600000,\n                oneDay = 86400000,\n                result = void 0;\n            if (diffTime < oneMin) {\n                result = '刚刚';\n            } else if (diffTime > oneMin && diffTime < oneHour) {\n                result = Math.floor(diffTime / oneMin) + '分钟前';\n            } else if (diffTime > oneHour && diffTime < oneDay) {\n                result = '今天 ' + new Date(time).format('hh:mm');\n            } else {\n                result = new Date(time).format('M月d日 hh:mm');\n            }\n            return result;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(195)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".from-comment{width:300px}.comment-text{width:600px}@media only screen and (max-width:768px){.comment-text,.from-comment{width:100%}}\", \"\", {\"version\":3,\"sources\":[\"D:/jsoft/Full Stack/新建文件夹/My-Blog/Vue-Node-Blog/backups/src/components/common/CommentForm.vue\"],\"names\":[],\"mappings\":\"AACA,cACI,WAAa,CAChB,AACD,cACI,WAAa,CAChB,AACD,yCACA,4BACQ,UAAY,CACnB,CACA\",\"file\":\"CommentForm.vue\",\"sourcesContent\":[\"\\n.from-comment {\\n    width: 300px;\\n}\\n.comment-text {\\n    width: 600px;\\n}\\n@media only screen and (max-width: 768px) {\\n.from-comment, .comment-text {\\n        width: 100%;\\n}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(195)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".clearfix[data-v-fb19e39e]:after{content:\\\"\\\";display:block;clear:both}.article-comment[data-v-fb19e39e]{margin-top:10px;padding:20px;background:#fff}.comment-detail[data-v-fb19e39e]{border-top:1px solid #ccc;margin-top:60px;padding-top:20px}.comment-count[data-v-fb19e39e]{margin-bottom:20px}.comment-list[data-v-fb19e39e]{border:1px solid #0db1ff;padding:10px;margin-bottom:20px}.comment-psn img[data-v-fb19e39e]{width:35px;height:35px;border-radius:50%;float:left}.comment-psn .psn-mes[data-v-fb19e39e]{height:35px;line-height:20px;margin-left:45px}.comment-psn .psn-mes p[data-v-fb19e39e]{padding:0;margin:0}.comment-btn[data-v-fb19e39e],.comment-psn .psn-mes .reply-time[data-v-fb19e39e]{font-size:.5em}.comment-btn span[data-v-fb19e39e]{margin-right:10px;cursor:pointer}.reply[data-v-fb19e39e]{background:#eaeaec;padding:10px;margin-top:5px}.reply>div[data-v-fb19e39e]:not(:last-child){border-bottom:1px solid #d9d9d9}.reply p[data-v-fb19e39e]{margin:0;font-size:.5em;padding:3px 0}.reply .reply-psn[data-v-fb19e39e]{color:#307d74;cursor:pointer}.comment-list span.highlight[data-v-fb19e39e],p.highlight[data-v-fb19e39e]{color:red;font-weight:700}\", \"\", {\"version\":3,\"sources\":[\"D:/jsoft/Full Stack/新建文件夹/My-Blog/Vue-Node-Blog/backups/src/components/page/Comment.vue\"],\"names\":[],\"mappings\":\"AACA,iCACI,WAAY,AACZ,cAAe,AACf,UAAY,CACf,AACD,kCACI,gBAAiB,AACjB,aAAc,AACd,eAAiB,CACpB,AACD,iCACI,0BAA2B,AAC3B,gBAAiB,AACjB,gBAAiB,CACpB,AACD,gCACI,kBAAoB,CACvB,AACD,+BACI,yBAA0B,AAC1B,aAAc,AACd,kBAAoB,CACvB,AACD,kCACI,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,UAAY,CACf,AACD,uCACI,YAAa,AACb,iBAAkB,AAClB,gBAAkB,CACrB,AACD,yCACI,UAAW,AACX,QAAU,CACb,AACD,iFACI,cAAe,CAClB,AACD,mCACI,kBAAmB,AACnB,cAAgB,CACnB,AACD,wBACI,mBAAoB,AACpB,aAAc,AACd,cAAgB,CACnB,AACD,6CACI,+BAAiC,CACpC,AACD,0BACI,SAAU,AACV,eAAgB,AAChB,aAAe,CAClB,AACD,mCACI,cAAe,AACf,cAAgB,CACnB,AACD,2EACI,UAAW,AACX,eAAkB,CACrB\",\"file\":\"Comment.vue\",\"sourcesContent\":[\"\\n.clearfix[data-v-fb19e39e]::after {\\n    content: '';\\n    display: block;\\n    clear: both;\\n}\\n.article-comment[data-v-fb19e39e]{\\n    margin-top: 10px;\\n    padding: 20px;\\n    background: #fff;\\n}\\n.comment-detail[data-v-fb19e39e] {\\n    border-top: 1px solid #ccc;\\n    margin-top: 60px; \\n    padding-top: 20px\\n}\\n.comment-count[data-v-fb19e39e] {\\n    margin-bottom: 20px;\\n}\\n.comment-list[data-v-fb19e39e] {\\n    border: 1px solid #0db1ff;\\n    padding: 10px;\\n    margin-bottom: 20px;\\n}\\n.comment-psn img[data-v-fb19e39e] {\\n    width: 35px;\\n    height: 35px;\\n    border-radius: 50%;\\n    float: left;\\n}\\n.comment-psn .psn-mes[data-v-fb19e39e] {\\n    height: 35px;\\n    line-height: 20px;\\n    margin-left: 45px;\\n}\\n.comment-psn .psn-mes p[data-v-fb19e39e] {\\n    padding: 0;\\n    margin: 0;\\n}\\n.comment-psn .psn-mes .reply-time[data-v-fb19e39e], .comment-btn[data-v-fb19e39e] {\\n    font-size: .5em\\n}\\n.comment-btn span[data-v-fb19e39e] {\\n    margin-right: 10px;\\n    cursor: pointer;\\n}\\n.reply[data-v-fb19e39e] {\\n    background: #eaeaec;\\n    padding: 10px;\\n    margin-top: 5px;\\n}\\n.reply>div[data-v-fb19e39e]:not(:last-child) {\\n    border-bottom: 1px solid #d9d9d9;\\n}\\n.reply p[data-v-fb19e39e] {\\n    margin: 0;\\n    font-size: .5em;\\n    padding: 3px 0;\\n}\\n.reply .reply-psn[data-v-fb19e39e] {\\n    color: #307d74;\\n    cursor: pointer;\\n}\\n.comment-list span.highlight[data-v-fb19e39e], p.highlight[data-v-fb19e39e] {\\n    color: red;\\n    font-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(288);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(196)(\"2088dd1b\", content, true, {});\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(290);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(196)(\"0da5874e\", content, true, {});\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(296)\n}\nvar Component = __webpack_require__(26)(\n  /* script */\n  __webpack_require__(252),\n  /* template */\n  __webpack_require__(320),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 320:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-form', {\n    ref: \"commentForm\",\n    staticClass: \"from-comment\",\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rules,\n      \"label-position\": \"top\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.login\n    },\n    model: {\n      value: (_vm.ruleForm.email),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"email\", $$v)\n      },\n      expression: \"ruleForm.email\"\n    }\n  }), _vm._v(\" \"), (!_vm.login) ? _c('el-checkbox', {\n    model: {\n      value: (_vm.ruleForm.reminder),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"reminder\", $$v)\n      },\n      expression: \"ruleForm.reminder\"\n    }\n  }, [_vm._v(\"收到回复邮件提醒\")]) : _vm._e()], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"大名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.login\n    },\n    model: {\n      value: (_vm.ruleForm.name),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"name\", $$v)\n      },\n      expression: \"ruleForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"个人网站\",\n      \"prop\": \"website\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.login\n    },\n    model: {\n      value: (_vm.ruleForm.website),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"website\", $$v)\n      },\n      expression: \"ruleForm.website\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"comment-text\",\n    attrs: {\n      \"label\": _vm.labelString,\n      \"prop\": \"content\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"spellcheck\": \"false\",\n      \"rows\": 5\n    },\n    model: {\n      value: (_vm.ruleForm.content),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"content\", $$v)\n      },\n      expression: \"ruleForm.content\"\n    }\n  })], 1)], 1), _vm._v(\" \"), (!_vm.login) ? _c('el-checkbox', {\n    staticStyle: {\n      \"display\": \"block\",\n      \"margin-bottom\": \"5px\",\n      \"width\": \"0\"\n    },\n    model: {\n      value: (_vm.remember),\n      callback: function($$v) {\n        _vm.remember = $$v\n      },\n      expression: \"remember\"\n    }\n  }, [_vm._v(\"记住我？\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitHandle('commentForm')\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.replyUserName),\n      expression: \"replyUserName\"\n    }],\n    attrs: {\n      \"type\": \"danger\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.cancleHandle('commentForm')\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"提示：email用户已存在如下信息\",\n      \"visible\": _vm.dialogVisible,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogVisible = $event\n      }\n    }\n  }, [_c('span', [_c('p', [_c('strong', [_vm._v(\"大名：\")]), _vm._v(_vm._s(_vm.oriName))]), _vm._v(\" \"), _c('p', [_c('strong', [_vm._v(\"个人网站：\")]), _vm._v(_vm._s(_vm.oriWebsite))]), _vm._v(\" \"), _c('p', [_c('el-checkbox', {\n    attrs: {\n      \"disabled\": true\n    },\n    model: {\n      value: (_vm.oriReminder),\n      callback: function($$v) {\n        _vm.oriReminder = $$v\n      },\n      expression: \"oriReminder\"\n    }\n  }, [_vm._v(\"收到回复邮件提醒\")])], 1)]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": _vm.updVisitorMes\n    }\n  }, [_vm._v(\"更新信息\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.useVisitorMes\n    }\n  }, [_vm._v(\"使用已存在信息\")])], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 322:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"article-comment\",\n    attrs: {\n      \"id\": \"liuyan\"\n    }\n  }, [(_vm.commentFormShow) ? _c('commentForm', {\n    on: {\n      \"formHanle\": _vm.formShowState\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"comment-detail\"\n  }, [_c('div', {\n    staticClass: \"comment-count\"\n  }, [_vm._v(\"评论：（共 \" + _vm._s(_vm.commentLen) + \" 条）\")]), _vm._v(\" \"), _vm._l((_vm.comments), function(comment) {\n    return _c('div', {\n      key: comment.commentID,\n      staticClass: \"comment-list clearfix\"\n    }, [_c('div', {\n      staticClass: \"comment-psn\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": _vm.avatarRoot + (comment.avatar || 'visitor_avatar.jpg'),\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"psn-mes\"\n    }, [_c('p', {\n      class: {\n        highlight: _vm.isHighLight\n      }\n    }, [_c('strong', [_vm._v(_vm._s(comment.uname))])]), _vm._v(\" \"), _c('p', {\n      staticClass: \"reply-time\"\n    }, [_vm._v(_vm._s(_vm.timeFormat(comment.time)))])])]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(comment.content))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-btn\"\n    }, [_c('span', [_vm._v(\"支持\")]), _vm._v(\" \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.replyHandle(comment.commentID, comment.uid, comment.uname)\n        }\n      }\n    }, [_vm._v(\"回复\")])]), _vm._v(\" \"), (comment.replys) ? _c('div', {\n      staticClass: \"reply\"\n    }, _vm._l((comment.replys), function(reply, i) {\n      return _c('div', {\n        key: i\n      }, [_c('p', [_c('span', {\n        staticClass: \"reply-psn\",\n        class: {\n          highlight: _vm.isHighLight\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.replyHandle(comment.commentID, reply.uid, reply.uname, $event)\n          }\n        }\n      }, [_vm._v(_vm._s(reply.uname) + \" \")]), _vm._v(\" \"), (reply.rname) ? _c('span', [_vm._v(\"回复\\n                            \"), _c('span', {\n        staticClass: \"reply-psn\",\n        class: {\n          highlight: _vm.isHighLight\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.replyHandle(comment.commentID, reply.rid, reply.rname, $event)\n          }\n        }\n      }, [_vm._v(_vm._s(reply.rname))])]) : _vm._e(), _vm._v(\": \\n                        \" + _vm._s(reply.content) + \"\\n                    \")]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.timeFormat(reply.time)))])])\n    })) : _vm._e(), _vm._v(\" \"), (comment.replyFormShow) ? _c('commentForm', {\n      staticStyle: {\n        \"padding\": \"10px\",\n        \"margin\": \"10px 0\",\n        \"border\": \"1px dotted #ccc\",\n        \"background\": \"#fff\"\n      },\n      attrs: {\n        \"replyUserId\": _vm.replyUserId,\n        \"replyUserName\": _vm.replyUserName,\n        \"commentID\": comment.commentID\n      },\n      on: {\n        \"formHanle\": _vm.formShowState\n      }\n    }) : _vm._e()], 1)\n  })], 2)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 380:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(84);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Comment__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Comment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__Comment__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'article',\n    components: {\n        Comment: __WEBPACK_IMPORTED_MODULE_2__Comment___default.a\n    },\n    data: function data() {\n        return {\n            article: {},\n            content: '',\n            show: false,\n            loading: false,\n            treeData: [],\n            hasAddSatrt: false\n        };\n    },\n    created: function created() {\n        // let params = this.$route.params;\n        // this.getData({id: params.id, title: params.title});\n        this.currentArticleHanle({ catalog: [] });\n    },\n\n    methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"b\" /* mapActions */])({\n        currentArticleHanle: 'currentArticle'\n    }), {\n        getData: function getData(options) {\n            var _this = this;\n\n            this.show = false;\n            this.loading = true;\n            this.$http.get('/api/article/getArticleById', {\n                params: { id: options.id, title: options.title }\n            }).then(function (res) {\n                _this.loading = false;\n                if (res.data.status === false) {\n                    _this.$set(_this.article, 'title', res.data.msg);\n                    return;\n                }\n                _this.article = res.data[0];\n                _this.article.post_time = _this.timeFormat(_this.article.post_time);\n                _this.content = _this.article.content;\n                _this.show = true;\n                // 文章目录处理\n                _this.treeData = [];\n                _this.currentArticleHanle({ catalog: _this.treeData });\n                var hs = _this.content.match(/<h\\d{1}.*<\\/h\\d{1}>*/g);\n                if (!hs) {\n                    return;\n                }\n                // hs.shift();\n                for (var i = 0, len = hs.length; i < len; i++) {\n                    var h = hs[i],\n                        text = h.match(/>(.*)</)[1],\n                        tag = h.match(/^<(h\\d{1})/)[1],\n                        num = h.match(/^<h(\\d{1})/)[1],\n                        id = \"item\" + i,\n                        obj = { label: text, num: num, id: id, children: [] },\n                        str = h.replace(/id=\".*\"/, 'id=\"' + id + '\"');\n                    _this.content = _this.content.replace(h, str);\n                    _this.treeDataHandle(obj, _this.treeData);\n                }\n                _this.currentArticleHanle({ catalog: _this.treeData });\n                _this.addViewOrStart('view');\n            }).catch(function (err) {\n                console.log('err', err);\n            });\n        },\n        treeDataHandle: function treeDataHandle(obj, arr) {\n            var len = arr.length,\n                index = len - 1;\n            if (arr.length === 0) {\n                arr.push(obj);\n            } else {\n                if (arr[index].num < obj.num) {\n                    this.treeDataHandle(obj, arr[index].children);\n                } else {\n                    arr.push(obj);\n                }\n            }\n        },\n        addViewOrStart: function addViewOrStart(type) {\n            var _this2 = this;\n\n            this.$http.post('/api/article/addViewOrStart', {\n                id: this.article.id,\n                count: this.article[type] + 1,\n                type: type\n            }).then(function (res) {\n                _this2.article[type] += 1;\n            }).catch(function (err) {\n                throw err;\n            });\n        },\n        addStart: function addStart() {\n            if (this.hasAddSatrt) {\n                return false;\n            }\n            this.addViewOrStart('start');\n            this.hasAddSatrt = true;\n        }\n    }),\n    computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapState */])(['currentArticle']), {\n        changeData: function changeData() {\n            this.getData({ id: this.currentArticle.id, title: this.currentArticle.title });\n        }\n    })\n});\n\n/***/ }),\n\n/***/ 485:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(195)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".article-detail[data-v-35d6c948]{padding:20px;background:#fff;text-align:left}.article-title[data-v-35d6c948]{text-align:center}.article-mes[data-v-35d6c948]{height:60px;line-height:30px}.article-title span[data-v-35d6c948]{font:400 12px/22px Arial;color:#999;padding:0 5px}.article-tags span[data-v-35d6c948],.article-title .title-icon[data-v-35d6c948]{margin-right:5px}.article-start[data-v-35d6c948]{cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"D:/jsoft/Full Stack/新建文件夹/My-Blog/Vue-Node-Blog/backups/src/components/page/Article.vue\"],\"names\":[],\"mappings\":\"AACA,iCACI,aAAc,AACd,gBAAiB,AACjB,eAAiB,CACpB,AACD,gCACI,iBAAkB,CACrB,AACD,8BACI,YAAa,AACb,gBAAkB,CACrB,AACD,qCACI,yBAA0B,AAC1B,WAAY,AACZ,aAAe,CAClB,AAID,gFACI,gBAAkB,CACrB,AACD,gCACI,cAAgB,CACnB\",\"file\":\"Article.vue\",\"sourcesContent\":[\"\\n.article-detail[data-v-35d6c948] {\\n    padding: 20px;\\n    background: #fff;\\n    text-align: left;\\n}\\n.article-title[data-v-35d6c948] {\\n    text-align: center\\n}\\n.article-mes[data-v-35d6c948] {\\n    height: 60px;\\n    line-height: 30px;\\n}\\n.article-title span[data-v-35d6c948] {\\n    font: 400 12px/22px Arial;\\n    color: #999;\\n    padding: 0 5px;\\n}\\n.article-title .title-icon[data-v-35d6c948] {\\n    margin-right: 5px;\\n}\\n.article-tags span[data-v-35d6c948] {\\n    margin-right: 5px;\\n}\\n.article-start[data-v-35d6c948] {\\n    cursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 601:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(485);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(196)(\"1790ab8c\", content, true, {});\n\n/***/ }),\n\n/***/ 829:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('article', {\n    staticClass: \"article-detail\"\n  }, [_c('div', {\n    staticClass: \"article-title\"\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.changeData) + \"\\n            \"), (_vm.loading) ? _c('div', [_c('i', {\n    staticClass: \"el-icon-loading\"\n  })]) : _vm._e(), _vm._v(\" \"), _c('h1', [_vm._v(_vm._s(_vm.article.title))]), _vm._v(\" \"), (_vm.show) ? _c('div', {\n    staticClass: \"article-mes\"\n  }, [_c('span', {\n    staticClass: \"article-postdata\"\n  }, [_vm._v(_vm._s(_vm.article.post_time))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"article-view\"\n  }, [_c('i', {\n    staticClass: \"el-icon-search title-icon\"\n  }), _vm._v(_vm._s(_vm.article.view))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"article-start\",\n    on: {\n      \"click\": _vm.addStart\n    }\n  }, [_c('i', {\n    class: ['title-icon', _vm.hasAddSatrt ? 'el-icon-star-on' : 'el-icon-star-off']\n  }), _vm._v(_vm._s(_vm.article.start))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"article-tags\"\n  }, [_vm._l((_vm.article.tags), function(tag) {\n    return [_c('el-tag', {\n      key: tag.id,\n      attrs: {\n        \"type\": \"primary\"\n      }\n    }, [_vm._v(_vm._s(tag.name))])]\n  })], 2)]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"markdown-body\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.content)\n    }\n  })]), _vm._v(\" \"), (_vm.show) ? _c('Comment') : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.b0326cdd46134ddc582b.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fb19e39e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Comment.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comment.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fb19e39e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Comment.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-fb19e39e\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/Comment.vue\n// module id = 199\n// module chunks = 4 5","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35d6c948\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Article.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Article.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35d6c948\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Article.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-35d6c948\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/Article.vue\n// module id = 206\n// module chunks = 4","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 228\n// module chunks = 2 4 5","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 234\n// module chunks = 2 4 5","<template>\r\n    <div>\r\n        <el-form :model=\"ruleForm\" :rules=\"rules\" label-position=\"top\" ref=\"commentForm\" class=\"from-comment\">\r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n                <el-input v-model=\"ruleForm.email\" :disabled=\"login\"></el-input>\r\n                <el-checkbox v-model=\"ruleForm.reminder\" v-if=\"!login\">收到回复邮件提醒</el-checkbox>\r\n            </el-form-item>\r\n            <el-form-item label=\"大名\" prop=\"name\">\r\n                <el-input v-model=\"ruleForm.name\" :disabled=\"login\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"个人网站\" prop=\"website\">\r\n                <el-input v-model=\"ruleForm.website\" :disabled=\"login\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item :label=\"labelString\" prop=\"content\" class=\"comment-text\">\r\n                <el-input type=\"textarea\" spellcheck=\"false\" :rows=\"5\" v-model=\"ruleForm.content\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-checkbox v-model=\"remember\" v-if=\"!login\" style=\"display:block;margin-bottom:5px;width:0\">记住我？</el-checkbox>\r\n        <el-button type=\"success\" @click=\"submitHandle('commentForm')\">提交</el-button>\r\n        <el-button v-show=\"replyUserName\" type=\"danger\" @click=\"cancleHandle('commentForm')\">取消</el-button>\r\n        <el-dialog\r\n            title=\"提示：email用户已存在如下信息\"\r\n            :visible.sync=\"dialogVisible\"\r\n            size=\"tiny\">\r\n            <span>\r\n                <p><strong>大名：</strong>{{ oriName }}</p>\r\n                <p><strong>个人网站：</strong>{{ oriWebsite }}</p>\r\n                <p><el-checkbox v-model=\"oriReminder\" :disabled=\"true\">收到回复邮件提醒</el-checkbox></p>\r\n            </span>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button type=\"success\" @click=\"updVisitorMes\">更新信息</el-button>\r\n                <el-button type=\"primary\" @click=\"useVisitorMes\">使用已存在信息</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'CommentForm',\r\n        props: ['replyUserId', 'replyUserName', 'commentID'],\r\n        data() {\r\n            return {\r\n                label: '留言',\r\n                login: false,\r\n                dialogVisible: false,\r\n                oriName: '',\r\n                oriWebsite: '',\r\n                oriReminder: false,\r\n                remember: false,\r\n                ruleForm: {\r\n                    name: '',\r\n                    email: '',\r\n                    website: '',\r\n                    avatar: '',\r\n                    reminder: false,\r\n                    content: ''\r\n                },\r\n                rules: {\r\n                    name: [\r\n                        { required: true, message: '请输入大名', trigger: 'blur' },\r\n                        { min: 1, max: 20, message: '长度在 1 到 20 个字符', trigger: 'blur' }\r\n                    ],\r\n                    email: [\r\n                        { required: true, type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\r\n                    ],\r\n                    content: [\r\n                        { required: true, message: '亲输入你的见解', trigger: 'blur' },\r\n                    ]\r\n                },\r\n            }\r\n        },\r\n        methods: {\r\n            submitHandle(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        this.$http.get('/api/visitor/getVisitor', {\r\n                            params: {email: this.ruleForm.email}\r\n                        }).then((res) => {\r\n                            res = res.data;\r\n                            let formData = {\r\n                                aid: this.$route.params.id,\r\n                                uname: this.ruleForm.name.trim(),\r\n                                website: this.ruleForm.website.trim(),\r\n                                avatar: this.ruleForm.avatar,\r\n                                rid: this.replyUserId,\r\n                                rname: this.replyUserName,\r\n                                rCommentID: this.replyUserId ? this.commentID : null,\r\n                                email: this.ruleForm.email,\r\n                                content: this.ruleForm.content,\r\n                                reminder: this.ruleForm.email ? (this.ruleForm.reminder ? 1 : 0) : 0,\r\n                                time: new Date().getTime()\r\n                            }\r\n                            if (res) {\r\n                                res.reminder = res.reminder === 1 ? true : false;\r\n                                if (res.name !== this.ruleForm.name.trim() || res.reminder !== this.ruleForm.reminder || (res.website && this.ruleForm.website !== res.website)) {\r\n                                    this.oriName = res.name;\r\n                                    this.oriWebsite = res.website || '';\r\n                                    this.oriReminder = res.reminder;\r\n                                    this.dialogVisible = true;\r\n                                    return;\r\n                                } else {\r\n                                    formData.uid = res.id;\r\n                                    formData.avatar = res.avatar;\r\n                                }\r\n                            }\r\n                            this.$http.post('/api/comment/writeComment', formData)\r\n                                .then((res) => {\r\n                                    this.$message.success('提交成功');\r\n                                    this.replyUserId ? this.formHanle({show: false, data: res.data}) : this.formHanle({show: true, data: res.data});\r\n                                    if (this.remember) {\r\n                                        let visitorMes = {\r\n                                            email: this.ruleForm.email,\r\n                                            name: this.ruleForm.name.trim(),\r\n                                            website: this.ruleForm.website.trim(),\r\n                                            reminder: this.ruleForm.reminder,\r\n                                            remember: this.remember\r\n                                        }\r\n                                        localStorage.visitorMes = JSON.stringify(visitorMes);\r\n                                    } else {\r\n                                        delete localStorage.visitorMes;\r\n                                    }\r\n                                    this.ruleForm.content = '';\r\n                                }).catch((err) => {\r\n                                    throw err;\r\n                                })\r\n                        }).catch((err) => {\r\n                            throw err;\r\n                        })\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: '数据有误，提交失败',\r\n                            type: 'error'\r\n                        });\r\n                        return false;\r\n                    }\r\n                })\r\n            },\r\n            cancleHandle(formName) {\r\n                this.$refs[formName].resetFields();\r\n                this.ruleForm.reminder = false;\r\n                this.formHanle({show: false});\r\n            },\r\n            formHanle(opt) {\r\n                this.$emit('formHanle', opt);\r\n            },\r\n            updVisitorMes() {\r\n                if (this.login) { return; }\r\n                this.$http.post('/api/visitor/updVisitorMes', {\r\n                    email: this.ruleForm.email,\r\n                    name: this.ruleForm.name.trim(),\r\n                    website: this.ruleForm.website.trim(),\r\n                    reminder: this.ruleForm.email ? (this.ruleForm.reminder ? 1 : 0) : 0,\r\n                }).then((res) => {\r\n                    if (res.data) {\r\n                        this.$message.success('更新成功,请再次提交');\r\n                        this.dialogVisible = false;\r\n                    } else {\r\n                        this.$message.error('更新失败,请更换eamil');\r\n                    }\r\n                    this.dialogVisible = false;\r\n                }).catch((err) => {\r\n                    throw err;\r\n                })\r\n            },\r\n            useVisitorMes() {\r\n                this.ruleForm.name = this.oriName;\r\n                this.ruleForm.website = this.oriWebsite;\r\n                this.ruleForm.reminder = this.oriReminder;\r\n                this.dialogVisible = false;\r\n            }\r\n        },\r\n        computed: {\r\n            labelString() {\r\n                return this.label + (this.replyUserName ? ' @' + this.replyUserName : '');\r\n            }\r\n        },\r\n        created() {\r\n            let visitorMes = localStorage.visitorMes && JSON.parse(localStorage.visitorMes);\r\n            if (visitorMes) {\r\n                this.ruleForm.name = visitorMes.name;\r\n                this.ruleForm.email = visitorMes.email;\r\n                this.ruleForm.website = visitorMes.website;\r\n                this.ruleForm.reminder = visitorMes.reminder;\r\n                this.remember = visitorMes.remember;\r\n            }\r\n            this.$http.get('/api/getSession')\r\n                .then((res) => {\r\n                    res = res.data;\r\n                    if (res && res.root === 1) {\r\n                        this.ruleForm.name = res.name;\r\n                        this.ruleForm.email = res.email;\r\n                        this.ruleForm.website = res.website || '';\r\n                        this.ruleForm.avatar = res.avatar;\r\n                        this.login = true;\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    throw err;\r\n                });\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .from-comment {\r\n        width: 300px;\r\n    }\r\n\r\n    .comment-text {\r\n        width: 600px;\r\n    }\r\n\r\n    @media only screen and (max-width: 768px) {\r\n        .from-comment, .comment-text {\r\n            width: 100%;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// CommentForm.vue?23e1922c","<template>\r\n    <div class=\"article-comment\" id=\"liuyan\">\r\n        <commentForm v-if=\"commentFormShow\" @formHanle=\"formShowState\"></commentForm>\r\n        <div class=\"comment-detail\">\r\n            <div class=\"comment-count\">评论：（共 {{ commentLen }} 条）</div>\r\n            <div class=\"comment-list clearfix\" v-for=\"comment in comments\" :key=\"comment.commentID\">\r\n                <div class=\"comment-psn\">\r\n                    <img :src=\"avatarRoot + (comment.avatar || 'visitor_avatar.jpg')\" alt=\"\">\r\n                    <div class=\"psn-mes\">\r\n                        <p :class=\"{highlight:isHighLight}\"><strong>{{ comment.uname }}</strong></p>\r\n                        <p class=\"reply-time\">{{ timeFormat(comment.time) }}</p>\r\n                    </div>\r\n                </div>\r\n                <p>{{ comment.content }}</p>\r\n                <div class=\"comment-btn\">\r\n                    <span>支持</span>\r\n                    <span @click=\"replyHandle(comment.commentID, comment.uid, comment.uname)\">回复</span>\r\n                </div>\r\n                <div class=\"reply\" v-if=\"comment.replys\">\r\n                    <div v-for=\"(reply, i) in comment.replys\" :key=\"i\">\r\n                        <p>\r\n                            <span class=\"reply-psn\" :class=\"{highlight:isHighLight}\" @click=\"replyHandle(comment.commentID, reply.uid, reply.uname, $event)\">{{ reply.uname }} </span>\r\n                            <span v-if=\"reply.rname\">回复\r\n                                <span class=\"reply-psn\" :class=\"{highlight:isHighLight}\" @click=\"replyHandle(comment.commentID, reply.rid, reply.rname, $event)\">{{ reply.rname }}</span>\r\n                            </span>: \r\n                            {{ reply.content }}\r\n                        </p>\r\n                        <p>{{ timeFormat(reply.time) }}</p>\r\n                    </div>\r\n                </div>\r\n                <commentForm :replyUserId=\"replyUserId\" :replyUserName=\"replyUserName\" :commentID=\"comment.commentID\" @formHanle=\"formShowState\" v-if=\"comment.replyFormShow\" style=\"padding: 10px;margin: 10px 0;border: 1px dotted #ccc;background: #fff;\"></commentForm>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import commentForm from '../common/CommentForm'\r\n    export default {\r\n        name: 'comment',\r\n        components: {\r\n            commentForm\r\n        },\r\n        data() {\r\n            return {\r\n                avatarRoot: '../../../static/images/avatar/',\r\n                replyUserId: '',\r\n                replyUserName: '',\r\n                commentFormShow: true,\r\n                isHighLight: false,\r\n                comments: [],\r\n                commentLen: 0\r\n            }\r\n        },\r\n        created() {\r\n            var articleID = this.$route.params.id;\r\n            this.$http.get('/api/comment/getComment', { \r\n                params: {articleID: articleID}\r\n            }).then((res) => {\r\n                this.comments = res.data;\r\n                this.commentLen = res.data.length;\r\n                for (let i = 0; i < this.commentLen; i++) {\r\n                    this.comments[i].replyFormShow = false;\r\n                }\r\n            }).catch((err) => {\r\n                throw err;\r\n            });\r\n        },\r\n        methods: {\r\n            replyHandle(commentID, replyId, replyName, event) {\r\n                for (let i = 0; i < this.commentLen; i++) {\r\n                    // this.comments[i].replyFormShow = i == commentID ? true : false;\r\n                    // this.$set(this.comments[i], 'replyFormShow', i == commentID ? true : false);\r\n                    // 对象更改检测注意事项 https://cn.vuejs.org/v2/guide/list.html#对象更改检测注意事项\r\n                    let id = this.comments[i].commentID;\r\n                    this.comments[i] = Object.assign({}, this.comments[i], {\r\n                        replyFormShow: id == commentID ? true : false\r\n                    })\r\n                    id == commentID ? (this.replyUserId = replyId, this.replyUserName = replyName) : false;\r\n                }\r\n                this.commentFormShow = false;\r\n            },\r\n            formShowState(opt) {\r\n                let show = opt.show, newComment = opt.data;\r\n                if (!show) {\r\n                    for (let i = 0; i < this.commentLen; i++) {\r\n                        this.comments[i] = Object.assign({}, this.comments[i], {\r\n                            replyFormShow: false\r\n                        })\r\n                    }\r\n                    this.commentFormShow = true;\r\n                }\r\n                if (newComment) {\r\n                    if (newComment.rid) {\r\n                        for (let i = 0; i < this.commentLen; i++) {\r\n                            if (this.comments[i].commentID === newComment.rCommentID) {\r\n                                this.comments[i].replys ? false : this.comments[i].replys = [];\r\n                                this.comments[i].replys.push(newComment);\r\n                                break;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        this.comments.push(newComment);\r\n                        this.commentLen += 1;\r\n                    }\r\n                }\r\n            },\r\n            timeFormat(time) {\r\n                let curTime = new Date().getTime(), diffTime = curTime - time,\r\n                    oneMin = 60000, oneHour = 3600000, oneDay = 86400000, result;\r\n                if (diffTime < oneMin) {\r\n                    result = '刚刚';\r\n                } else if (diffTime > oneMin && diffTime < oneHour) {\r\n                    result = Math.floor(diffTime / oneMin) + '分钟前';\r\n                } else if (diffTime > oneHour && diffTime < oneDay) {\r\n                    result = '今天 ' + new Date(time).format('hh:mm');\r\n                } else {\r\n                    result = new Date(time).format('M月d日 hh:mm');\r\n                }\r\n                return result;\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .clearfix::after {\r\n        content: '';\r\n        display: block;\r\n        clear: both;\r\n    }\r\n\r\n    .article-comment{\r\n        margin-top: 10px;\r\n        padding: 20px;\r\n        background: #fff;\r\n    }\r\n\r\n    .comment-detail {\r\n        border-top: 1px solid #ccc;\r\n        margin-top: 60px; \r\n        padding-top: 20px\r\n    }\r\n\r\n    .comment-count {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .comment-list {\r\n        border: 1px solid #0db1ff;\r\n        padding: 10px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n\r\n    .comment-psn img {\r\n        width: 35px;\r\n        height: 35px;\r\n        border-radius: 50%;\r\n        float: left;\r\n    }\r\n\r\n    .comment-psn .psn-mes {\r\n        height: 35px;\r\n        line-height: 20px;\r\n        margin-left: 45px;\r\n    }\r\n\r\n    .comment-psn .psn-mes p {\r\n        padding: 0;\r\n        margin: 0;\r\n    }\r\n    .comment-psn .psn-mes .reply-time, .comment-btn {\r\n        font-size: .5em\r\n    }\r\n    \r\n    .comment-btn span {\r\n        margin-right: 10px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .reply {\r\n        background: #eaeaec;\r\n        padding: 10px;\r\n        margin-top: 5px;\r\n    }\r\n    .reply>div:not(:last-child) {\r\n        border-bottom: 1px solid #d9d9d9;\r\n    }\r\n    .reply p {\r\n        margin: 0;\r\n        font-size: .5em;\r\n        padding: 3px 0;\r\n    }\r\n    .reply .reply-psn {\r\n        color: #307d74;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .comment-list span.highlight, p.highlight {\r\n        color: red;\r\n        font-weight: bold;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Comment.vue?233badf6","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".from-comment{width:300px}.comment-text{width:600px}@media only screen and (max-width:768px){.comment-text,.from-comment{width:100%}}\", \"\", {\"version\":3,\"sources\":[\"D:/jsoft/Full Stack/新建文件夹/My-Blog/Vue-Node-Blog/backups/src/components/common/CommentForm.vue\"],\"names\":[],\"mappings\":\"AACA,cACI,WAAa,CAChB,AACD,cACI,WAAa,CAChB,AACD,yCACA,4BACQ,UAAY,CACnB,CACA\",\"file\":\"CommentForm.vue\",\"sourcesContent\":[\"\\n.from-comment {\\n    width: 300px;\\n}\\n.comment-text {\\n    width: 600px;\\n}\\n@media only screen and (max-width: 768px) {\\n.from-comment, .comment-text {\\n        width: 100%;\\n}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-76dbad1e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/common/CommentForm.vue\n// module id = 288\n// module chunks = 4 5","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".clearfix[data-v-fb19e39e]:after{content:\\\"\\\";display:block;clear:both}.article-comment[data-v-fb19e39e]{margin-top:10px;padding:20px;background:#fff}.comment-detail[data-v-fb19e39e]{border-top:1px solid #ccc;margin-top:60px;padding-top:20px}.comment-count[data-v-fb19e39e]{margin-bottom:20px}.comment-list[data-v-fb19e39e]{border:1px solid #0db1ff;padding:10px;margin-bottom:20px}.comment-psn img[data-v-fb19e39e]{width:35px;height:35px;border-radius:50%;float:left}.comment-psn .psn-mes[data-v-fb19e39e]{height:35px;line-height:20px;margin-left:45px}.comment-psn .psn-mes p[data-v-fb19e39e]{padding:0;margin:0}.comment-btn[data-v-fb19e39e],.comment-psn .psn-mes .reply-time[data-v-fb19e39e]{font-size:.5em}.comment-btn span[data-v-fb19e39e]{margin-right:10px;cursor:pointer}.reply[data-v-fb19e39e]{background:#eaeaec;padding:10px;margin-top:5px}.reply>div[data-v-fb19e39e]:not(:last-child){border-bottom:1px solid #d9d9d9}.reply p[data-v-fb19e39e]{margin:0;font-size:.5em;padding:3px 0}.reply .reply-psn[data-v-fb19e39e]{color:#307d74;cursor:pointer}.comment-list span.highlight[data-v-fb19e39e],p.highlight[data-v-fb19e39e]{color:red;font-weight:700}\", \"\", {\"version\":3,\"sources\":[\"D:/jsoft/Full Stack/新建文件夹/My-Blog/Vue-Node-Blog/backups/src/components/page/Comment.vue\"],\"names\":[],\"mappings\":\"AACA,iCACI,WAAY,AACZ,cAAe,AACf,UAAY,CACf,AACD,kCACI,gBAAiB,AACjB,aAAc,AACd,eAAiB,CACpB,AACD,iCACI,0BAA2B,AAC3B,gBAAiB,AACjB,gBAAiB,CACpB,AACD,gCACI,kBAAoB,CACvB,AACD,+BACI,yBAA0B,AAC1B,aAAc,AACd,kBAAoB,CACvB,AACD,kCACI,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,UAAY,CACf,AACD,uCACI,YAAa,AACb,iBAAkB,AAClB,gBAAkB,CACrB,AACD,yCACI,UAAW,AACX,QAAU,CACb,AACD,iFACI,cAAe,CAClB,AACD,mCACI,kBAAmB,AACnB,cAAgB,CACnB,AACD,wBACI,mBAAoB,AACpB,aAAc,AACd,cAAgB,CACnB,AACD,6CACI,+BAAiC,CACpC,AACD,0BACI,SAAU,AACV,eAAgB,AAChB,aAAe,CAClB,AACD,mCACI,cAAe,AACf,cAAgB,CACnB,AACD,2EACI,UAAW,AACX,eAAkB,CACrB\",\"file\":\"Comment.vue\",\"sourcesContent\":[\"\\n.clearfix[data-v-fb19e39e]::after {\\n    content: '';\\n    display: block;\\n    clear: both;\\n}\\n.article-comment[data-v-fb19e39e]{\\n    margin-top: 10px;\\n    padding: 20px;\\n    background: #fff;\\n}\\n.comment-detail[data-v-fb19e39e] {\\n    border-top: 1px solid #ccc;\\n    margin-top: 60px; \\n    padding-top: 20px\\n}\\n.comment-count[data-v-fb19e39e] {\\n    margin-bottom: 20px;\\n}\\n.comment-list[data-v-fb19e39e] {\\n    border: 1px solid #0db1ff;\\n    padding: 10px;\\n    margin-bottom: 20px;\\n}\\n.comment-psn img[data-v-fb19e39e] {\\n    width: 35px;\\n    height: 35px;\\n    border-radius: 50%;\\n    float: left;\\n}\\n.comment-psn .psn-mes[data-v-fb19e39e] {\\n    height: 35px;\\n    line-height: 20px;\\n    margin-left: 45px;\\n}\\n.comment-psn .psn-mes p[data-v-fb19e39e] {\\n    padding: 0;\\n    margin: 0;\\n}\\n.comment-psn .psn-mes .reply-time[data-v-fb19e39e], .comment-btn[data-v-fb19e39e] {\\n    font-size: .5em\\n}\\n.comment-btn span[data-v-fb19e39e] {\\n    margin-right: 10px;\\n    cursor: pointer;\\n}\\n.reply[data-v-fb19e39e] {\\n    background: #eaeaec;\\n    padding: 10px;\\n    margin-top: 5px;\\n}\\n.reply>div[data-v-fb19e39e]:not(:last-child) {\\n    border-bottom: 1px solid #d9d9d9;\\n}\\n.reply p[data-v-fb19e39e] {\\n    margin: 0;\\n    font-size: .5em;\\n    padding: 3px 0;\\n}\\n.reply .reply-psn[data-v-fb19e39e] {\\n    color: #307d74;\\n    cursor: pointer;\\n}\\n.comment-list span.highlight[data-v-fb19e39e], p.highlight[data-v-fb19e39e] {\\n    color: red;\\n    font-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fb19e39e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/page/Comment.vue\n// module id = 290\n// module chunks = 4 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76dbad1e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CommentForm.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2088dd1b\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-76dbad1e\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/common/CommentForm.vue\n// module id = 296\n// module chunks = 4 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fb19e39e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Comment.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0da5874e\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-fb19e39e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/page/Comment.vue\n// module id = 298\n// module chunks = 4 5","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76dbad1e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommentForm.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommentForm.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76dbad1e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommentForm.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/CommentForm.vue\n// module id = 317\n// module chunks = 4 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-form', {\n    ref: \"commentForm\",\n    staticClass: \"from-comment\",\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rules,\n      \"label-position\": \"top\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.login\n    },\n    model: {\n      value: (_vm.ruleForm.email),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"email\", $$v)\n      },\n      expression: \"ruleForm.email\"\n    }\n  }), _vm._v(\" \"), (!_vm.login) ? _c('el-checkbox', {\n    model: {\n      value: (_vm.ruleForm.reminder),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"reminder\", $$v)\n      },\n      expression: \"ruleForm.reminder\"\n    }\n  }, [_vm._v(\"收到回复邮件提醒\")]) : _vm._e()], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"大名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.login\n    },\n    model: {\n      value: (_vm.ruleForm.name),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"name\", $$v)\n      },\n      expression: \"ruleForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"个人网站\",\n      \"prop\": \"website\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"disabled\": _vm.login\n    },\n    model: {\n      value: (_vm.ruleForm.website),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"website\", $$v)\n      },\n      expression: \"ruleForm.website\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"comment-text\",\n    attrs: {\n      \"label\": _vm.labelString,\n      \"prop\": \"content\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"spellcheck\": \"false\",\n      \"rows\": 5\n    },\n    model: {\n      value: (_vm.ruleForm.content),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"content\", $$v)\n      },\n      expression: \"ruleForm.content\"\n    }\n  })], 1)], 1), _vm._v(\" \"), (!_vm.login) ? _c('el-checkbox', {\n    staticStyle: {\n      \"display\": \"block\",\n      \"margin-bottom\": \"5px\",\n      \"width\": \"0\"\n    },\n    model: {\n      value: (_vm.remember),\n      callback: function($$v) {\n        _vm.remember = $$v\n      },\n      expression: \"remember\"\n    }\n  }, [_vm._v(\"记住我？\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitHandle('commentForm')\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.replyUserName),\n      expression: \"replyUserName\"\n    }],\n    attrs: {\n      \"type\": \"danger\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.cancleHandle('commentForm')\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"提示：email用户已存在如下信息\",\n      \"visible\": _vm.dialogVisible,\n      \"size\": \"tiny\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogVisible = $event\n      }\n    }\n  }, [_c('span', [_c('p', [_c('strong', [_vm._v(\"大名：\")]), _vm._v(_vm._s(_vm.oriName))]), _vm._v(\" \"), _c('p', [_c('strong', [_vm._v(\"个人网站：\")]), _vm._v(_vm._s(_vm.oriWebsite))]), _vm._v(\" \"), _c('p', [_c('el-checkbox', {\n    attrs: {\n      \"disabled\": true\n    },\n    model: {\n      value: (_vm.oriReminder),\n      callback: function($$v) {\n        _vm.oriReminder = $$v\n      },\n      expression: \"oriReminder\"\n    }\n  }, [_vm._v(\"收到回复邮件提醒\")])], 1)]), _vm._v(\" \"), _c('span', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": _vm.updVisitorMes\n    }\n  }, [_vm._v(\"更新信息\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.useVisitorMes\n    }\n  }, [_vm._v(\"使用已存在信息\")])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-76dbad1e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/CommentForm.vue\n// module id = 320\n// module chunks = 4 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"article-comment\",\n    attrs: {\n      \"id\": \"liuyan\"\n    }\n  }, [(_vm.commentFormShow) ? _c('commentForm', {\n    on: {\n      \"formHanle\": _vm.formShowState\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"comment-detail\"\n  }, [_c('div', {\n    staticClass: \"comment-count\"\n  }, [_vm._v(\"评论：（共 \" + _vm._s(_vm.commentLen) + \" 条）\")]), _vm._v(\" \"), _vm._l((_vm.comments), function(comment) {\n    return _c('div', {\n      key: comment.commentID,\n      staticClass: \"comment-list clearfix\"\n    }, [_c('div', {\n      staticClass: \"comment-psn\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": _vm.avatarRoot + (comment.avatar || 'visitor_avatar.jpg'),\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"psn-mes\"\n    }, [_c('p', {\n      class: {\n        highlight: _vm.isHighLight\n      }\n    }, [_c('strong', [_vm._v(_vm._s(comment.uname))])]), _vm._v(\" \"), _c('p', {\n      staticClass: \"reply-time\"\n    }, [_vm._v(_vm._s(_vm.timeFormat(comment.time)))])])]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(comment.content))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"comment-btn\"\n    }, [_c('span', [_vm._v(\"支持\")]), _vm._v(\" \"), _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.replyHandle(comment.commentID, comment.uid, comment.uname)\n        }\n      }\n    }, [_vm._v(\"回复\")])]), _vm._v(\" \"), (comment.replys) ? _c('div', {\n      staticClass: \"reply\"\n    }, _vm._l((comment.replys), function(reply, i) {\n      return _c('div', {\n        key: i\n      }, [_c('p', [_c('span', {\n        staticClass: \"reply-psn\",\n        class: {\n          highlight: _vm.isHighLight\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.replyHandle(comment.commentID, reply.uid, reply.uname, $event)\n          }\n        }\n      }, [_vm._v(_vm._s(reply.uname) + \" \")]), _vm._v(\" \"), (reply.rname) ? _c('span', [_vm._v(\"回复\\n                            \"), _c('span', {\n        staticClass: \"reply-psn\",\n        class: {\n          highlight: _vm.isHighLight\n        },\n        on: {\n          \"click\": function($event) {\n            _vm.replyHandle(comment.commentID, reply.rid, reply.rname, $event)\n          }\n        }\n      }, [_vm._v(_vm._s(reply.rname))])]) : _vm._e(), _vm._v(\": \\n                        \" + _vm._s(reply.content) + \"\\n                    \")]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.timeFormat(reply.time)))])])\n    })) : _vm._e(), _vm._v(\" \"), (comment.replyFormShow) ? _c('commentForm', {\n      staticStyle: {\n        \"padding\": \"10px\",\n        \"margin\": \"10px 0\",\n        \"border\": \"1px dotted #ccc\",\n        \"background\": \"#fff\"\n      },\n      attrs: {\n        \"replyUserId\": _vm.replyUserId,\n        \"replyUserName\": _vm.replyUserName,\n        \"commentID\": comment.commentID\n      },\n      on: {\n        \"formHanle\": _vm.formShowState\n      }\n    }) : _vm._e()], 1)\n  })], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-fb19e39e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/Comment.vue\n// module id = 322\n// module chunks = 4 5","<template>\r\n    <div>\r\n        <article class=\"article-detail\">\r\n            <div class=\"article-title\">\r\n                {{ changeData }}\r\n                <div v-if=\"loading\"><i class=\"el-icon-loading\"></i></div>\r\n                <h1>{{ article.title }}</h1>\r\n                <div class=\"article-mes\" v-if=\"show\">\r\n                    <span class=\"article-postdata\">{{ article.post_time }}</span>\r\n                    <span class=\"article-view\"><i class=\"el-icon-search title-icon\"></i>{{ article.view }}</span>\r\n                    <span class=\"article-start\" @click=\"addStart\"><i :class=\"['title-icon', hasAddSatrt ? 'el-icon-star-on' : 'el-icon-star-off']\"></i>{{ article.start }}</span>\r\n                    <span class=\"article-tags\">\r\n                        <template v-for=\"tag in article.tags\">\r\n                            <el-tag type=\"primary\" :key=\"tag.id\">{{ tag.name }}</el-tag>\r\n                        </template>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div class=\"markdown-body\" v-html=\"content\"></div>\r\n        </article>\r\n        <Comment v-if=\"show\"></Comment>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState, mapActions} from 'vuex'\r\n    import Comment from './Comment'\r\n    export default {\r\n        name: 'article',\r\n        components: {\r\n            Comment\r\n        },\r\n        data() {\r\n            return {\r\n                article: {},\r\n                content: '',\r\n                show: false,\r\n                loading: false,\r\n                treeData: [],\r\n                hasAddSatrt: false\r\n            }\r\n        },\r\n        created() {\r\n            // let params = this.$route.params;\r\n            // this.getData({id: params.id, title: params.title});\r\n            this.currentArticleHanle({catalog: []});\r\n        },\r\n        methods: {\r\n            ...mapActions({\r\n                currentArticleHanle: 'currentArticle'\r\n            }),\r\n            getData(options) {\r\n                this.show = false;\r\n                this.loading = true;\r\n                this.$http.get('/api/article/getArticleById', {\r\n                    params: {id: options.id, title: options.title}\r\n                }).then((res) => {\r\n                    this.loading = false;\r\n                    if (res.data.status === false) {\r\n                        this.$set(this.article, 'title', res.data.msg);\r\n                        return;\r\n                    }\r\n                    this.article = res.data[0];\r\n                    this.article.post_time = this.timeFormat(this.article.post_time);\r\n                    this.content = this.article.content;\r\n                    this.show = true;\r\n                    // 文章目录处理\r\n                    this.treeData = [];\r\n                    this.currentArticleHanle({catalog: this.treeData});\r\n                    let hs = this.content.match(/<h\\d{1}.*<\\/h\\d{1}>*/g);\r\n                    if (!hs) {\r\n                        return;\r\n                    }\r\n                    // hs.shift();\r\n                    for (let i = 0, len = hs.length; i < len; i++) {\r\n                        let h = hs[i],\r\n                            text = h.match(/>(.*)</)[1],\r\n                            tag = h.match(/^<(h\\d{1})/)[1],\r\n                            num = h.match(/^<h(\\d{1})/)[1],\r\n                            id = \"item\" + i,\r\n                            obj = {label: text, num: num, id: id, children: []},\r\n                            str = h.replace(/id=\".*\"/, 'id=\"' + id + '\"');\r\n                        this.content = this.content.replace(h, str);\r\n                        this.treeDataHandle(obj, this.treeData);\r\n                    }\r\n                    this.currentArticleHanle({catalog: this.treeData});\r\n                    this.addViewOrStart('view');\r\n                }).catch((err) => {\r\n                    console.log('err', err);\r\n                });\r\n            },\r\n            treeDataHandle(obj, arr) {\r\n                let len = arr.length, index = len - 1;\r\n                if (arr.length === 0) {\r\n                    arr.push(obj);\r\n                } else {\r\n                    if (arr[index].num < obj.num) {\r\n                        this.treeDataHandle(obj, arr[index].children);\r\n                    } else {\r\n                        arr.push(obj);\r\n                    }\r\n                }\r\n            },\r\n            addViewOrStart(type) {\r\n                this.$http.post('/api/article/addViewOrStart', {\r\n                    id: this.article.id,\r\n                    count: this.article[type] + 1,\r\n                    type\r\n                }).then((res) => {\r\n                    this.article[type] += 1;\r\n                }).catch((err) => {\r\n                    throw err;\r\n                })\r\n            },\r\n            addStart() {\r\n                if(this.hasAddSatrt) {\r\n                    return false;\r\n                }\r\n                this.addViewOrStart('start');\r\n                this.hasAddSatrt = true;\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState(['currentArticle']),\r\n            changeData() {\r\n                this.getData({id: this.currentArticle.id, title: this.currentArticle.title});\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .article-detail {\r\n        padding: 20px;\r\n        background: #fff;\r\n        text-align: left;\r\n    }\r\n    .article-title {\r\n        text-align: center\r\n    }\r\n    .article-mes {\r\n        height: 60px;\r\n        line-height: 30px;\r\n    }\r\n\r\n    .article-title span {\r\n        font: 400 12px/22px Arial;\r\n        color: #999;\r\n        padding: 0 5px;\r\n    }\r\n\r\n    .article-title .title-icon {\r\n        margin-right: 5px;\r\n    }\r\n\r\n    .article-tags span {\r\n        margin-right: 5px;\r\n    }\r\n\r\n    .article-start {\r\n        cursor: pointer;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Article.vue?3c55d3cf","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".article-detail[data-v-35d6c948]{padding:20px;background:#fff;text-align:left}.article-title[data-v-35d6c948]{text-align:center}.article-mes[data-v-35d6c948]{height:60px;line-height:30px}.article-title span[data-v-35d6c948]{font:400 12px/22px Arial;color:#999;padding:0 5px}.article-tags span[data-v-35d6c948],.article-title .title-icon[data-v-35d6c948]{margin-right:5px}.article-start[data-v-35d6c948]{cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"D:/jsoft/Full Stack/新建文件夹/My-Blog/Vue-Node-Blog/backups/src/components/page/Article.vue\"],\"names\":[],\"mappings\":\"AACA,iCACI,aAAc,AACd,gBAAiB,AACjB,eAAiB,CACpB,AACD,gCACI,iBAAkB,CACrB,AACD,8BACI,YAAa,AACb,gBAAkB,CACrB,AACD,qCACI,yBAA0B,AAC1B,WAAY,AACZ,aAAe,CAClB,AAID,gFACI,gBAAkB,CACrB,AACD,gCACI,cAAgB,CACnB\",\"file\":\"Article.vue\",\"sourcesContent\":[\"\\n.article-detail[data-v-35d6c948] {\\n    padding: 20px;\\n    background: #fff;\\n    text-align: left;\\n}\\n.article-title[data-v-35d6c948] {\\n    text-align: center\\n}\\n.article-mes[data-v-35d6c948] {\\n    height: 60px;\\n    line-height: 30px;\\n}\\n.article-title span[data-v-35d6c948] {\\n    font: 400 12px/22px Arial;\\n    color: #999;\\n    padding: 0 5px;\\n}\\n.article-title .title-icon[data-v-35d6c948] {\\n    margin-right: 5px;\\n}\\n.article-tags span[data-v-35d6c948] {\\n    margin-right: 5px;\\n}\\n.article-start[data-v-35d6c948] {\\n    cursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-35d6c948\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/page/Article.vue\n// module id = 485\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35d6c948\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Article.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1790ab8c\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-35d6c948\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/page/Article.vue\n// module id = 601\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('article', {\n    staticClass: \"article-detail\"\n  }, [_c('div', {\n    staticClass: \"article-title\"\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.changeData) + \"\\n            \"), (_vm.loading) ? _c('div', [_c('i', {\n    staticClass: \"el-icon-loading\"\n  })]) : _vm._e(), _vm._v(\" \"), _c('h1', [_vm._v(_vm._s(_vm.article.title))]), _vm._v(\" \"), (_vm.show) ? _c('div', {\n    staticClass: \"article-mes\"\n  }, [_c('span', {\n    staticClass: \"article-postdata\"\n  }, [_vm._v(_vm._s(_vm.article.post_time))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"article-view\"\n  }, [_c('i', {\n    staticClass: \"el-icon-search title-icon\"\n  }), _vm._v(_vm._s(_vm.article.view))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"article-start\",\n    on: {\n      \"click\": _vm.addStart\n    }\n  }, [_c('i', {\n    class: ['title-icon', _vm.hasAddSatrt ? 'el-icon-star-on' : 'el-icon-star-off']\n  }), _vm._v(_vm._s(_vm.article.start))]), _vm._v(\" \"), _c('span', {\n    staticClass: \"article-tags\"\n  }, [_vm._l((_vm.article.tags), function(tag) {\n    return [_c('el-tag', {\n      key: tag.id,\n      attrs: {\n        \"type\": \"primary\"\n      }\n    }, [_vm._v(_vm._s(tag.name))])]\n  })], 2)]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"markdown-body\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.content)\n    }\n  })]), _vm._v(\" \"), (_vm.show) ? _c('Comment') : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-35d6c948\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/Article.vue\n// module id = 829\n// module chunks = 4"],"sourceRoot":""}